<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Computational Sociology (PGSP11583) - Managing data and code</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./intror.html" rel="next">
<link href="./course_overview.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Managing data and code</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Computational Sociology (PGSP11583)</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/cjbarrie/CS-ED/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="" title="Share" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-share"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
            <i class="bi bi-bi-twitter pe-1"></i>
          Twitter
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
            <i class="bi bi-bi-linkedin pe-1"></i>
          LinkedIn
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Computational Sociology</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./course_overview.html" class="sidebar-item-text sidebar-link">Course Overview</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./terminal_and_git.html" class="sidebar-item-text sidebar-link active">Managing data and code</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intror.html" class="sidebar-item-text sidebar-link">Introduction to R</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introgen.html" class="sidebar-item-text sidebar-link">Code style guide</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./repro_steps.html" class="sidebar-item-text sidebar-link">Reproducible workflows</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Week 1: Intro. to CSS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Week 2: Filter bubbles and echo chambers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3: Web tracking and networks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap4.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4: Misinformation and fake news</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap5.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 5: Linked surveys and social media data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap6.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 6: Polarization and Radicalization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap7.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Week 7: Experiments and Bots</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap8.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Week 8: Violence and protest</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap9.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Week 9: Social media tracking and NLP</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chap10.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Week 10: Guest lecture</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./webtracking_networks.html" class="sidebar-item-text sidebar-link">Worksheet 1: Web tracking and networks</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_ingest_apis.html" class="sidebar-item-text sidebar-link">Worksheet 2: Using APIs</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bots_experiments.html" class="sidebar-item-text sidebar-link">Worksheet 3: Bots and Experiments</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment.html" class="sidebar-item-text sidebar-link">Assignment:</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-command-line" id="toc-the-command-line" class="nav-link active" data-scroll-target="#the-command-line">The Command Line</a>
  <ul class="collapse">
  <li><a href="#the-big-picture" id="toc-the-big-picture" class="nav-link" data-scroll-target="#the-big-picture">The Big Picture</a></li>
  <li><a href="#why-bother-using-the-command-line" id="toc-why-bother-using-the-command-line" class="nav-link" data-scroll-target="#why-bother-using-the-command-line">Why bother using the command line?</a></li>
  <li><a href="#unix-shell" id="toc-unix-shell" class="nav-link" data-scroll-target="#unix-shell">UNIX Shell</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  <li><a href="#git-and-github" id="toc-git-and-github" class="nav-link" data-scroll-target="#git-and-github">Git and GitHub</a>
  <ul class="collapse">
  <li><a href="#the-big-picture-1" id="toc-the-big-picture-1" class="nav-link" data-scroll-target="#the-big-picture-1">The Big Picture</a></li>
  <li><a href="#version-control-system" id="toc-version-control-system" class="nav-link" data-scroll-target="#version-control-system">Version control system</a></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#cloning-a-repository" id="toc-cloning-a-repository" class="nav-link" data-scroll-target="#cloning-a-repository">Cloning a repository</a></li>
  <li><a href="#making-a-repository" id="toc-making-a-repository" class="nav-link" data-scroll-target="#making-a-repository">Making a repository</a></li>
  <li><a href="#commit-changes" id="toc-commit-changes" class="nav-link" data-scroll-target="#commit-changes">Commit changes</a></li>
  <li><a href="#push-and-pull-or-fetch" id="toc-push-and-pull-or-fetch" class="nav-link" data-scroll-target="#push-and-pull-or-fetch">Push and pull (or fetch)</a></li>
  <li><a href="#branching" id="toc-branching" class="nav-link" data-scroll-target="#branching">Branching</a></li>
  <li><a href="#other-useful-commands" id="toc-other-useful-commands" class="nav-link" data-scroll-target="#other-useful-commands">Other useful commands</a></li>
  <li><a href="#collaborations" id="toc-collaborations" class="nav-link" data-scroll-target="#collaborations">Collaborations</a></li>
  <li><a href="#deployment-github-pages" id="toc-deployment-github-pages" class="nav-link" data-scroll-target="#deployment-github-pages">Deployment: GitHub Pages</a></li>
  <li><a href="#tracking-progress-github-issues" id="toc-tracking-progress-github-issues" class="nav-link" data-scroll-target="#tracking-progress-github-issues">Tracking progress: GitHub Issues</a></li>
  <li><a href="#project-management-github-dashboards" id="toc-project-management-github-dashboards" class="nav-link" data-scroll-target="#project-management-github-dashboards">Project management: GitHub Dashboards</a></li>
  <li><a href="#the-big-picture-2" id="toc-the-big-picture-2" class="nav-link" data-scroll-target="#the-big-picture-2">The Big Picture</a></li>
  <li><a href="#motivation" id="toc-motivation" class="nav-link" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#how-to-organize-code-in-an-r-markdown-file" id="toc-how-to-organize-code-in-an-r-markdown-file" class="nav-link" data-scroll-target="#how-to-organize-code-in-an-r-markdown-file">How to organize code in an R markdown file</a></li>
  <li><a href="#references-1" id="toc-references-1" class="nav-link" data-scroll-target="#references-1">References</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/cjbarrie/CS-ED/edit/master/terminal_and_git.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Managing data and code</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="callout-note callout callout-style-simple">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The following introductory section is taken, in slightly adapted form, from Jae Yeon Kim’s “Computational Thinking for Social Scientists.” It is reproduced here for ease of access. To consult the full book, go to <a href="https://jaeyk.github.io/comp_thinking_social_science" class="uri">https://jaeyk.github.io/comp_thinking_social_science</a>.</p>
</div>
</div>
</div>
<section id="the-command-line" class="level2">
<h2 class="anchored" data-anchor-id="the-command-line">The Command Line</h2>
<p>What is the command line? The command line or “terminal” is what you’ll recognize from Hollywood portrayals of hackers and script kids—a black screen containing single lines of code, sometimes cascading down the page.</p>
<p>But you all have one on your computers.</p>
<p>On Windows computers, you’ll find this under the name “Command Prompt.” See this <a href="https://www.wikihow.com/Open-Terminal-in-Windows">guide</a> on how to open.</p>
<p>On Mac, this is called “Terminal”. See this <a href="https://www.wikihow.com/Open-a-Terminal-Window-in-Mac">guide</a>. Some also prefer to use an application called “iTerm 2” but they both essentially do the same thing.</p>
<section id="the-big-picture" class="level3">
<h3 class="anchored" data-anchor-id="the-big-picture">The Big Picture</h3>
<p>As William Shotts the author of <a href="http://linuxcommand.org/tlcl.php"><em>The Linux Command Line</em></a> put it:</p>
<blockquote class="blockquote">
<p>graphical user interfaces make easy tasks easy, while command-line interfaces make difficult tasks possible.</p>
</blockquote>
</section>
<section id="why-bother-using-the-command-line" class="level3">
<h3 class="anchored" data-anchor-id="why-bother-using-the-command-line">Why bother using the command line?</h3>
<p>Suppose that we want to create a plain text file that contains the word “test.” If we want to do this in the command line, you need to know the following commands.</p>
<ol type="1">
<li><code>echo</code>: “Write arguments to the standard output” This is equivalent to using a text editor (e.g., nano, vim, emacs) and writing something.</li>
<li><code>&gt; test</code> Save the expression in a file named test.</li>
</ol>
<p>We can put these commands together like the following:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"sth"</span> <span class="op">&gt;</span> test </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Don’t worry if you are worried about memorizing these and more commands. Memorization is a far less important aspect of learning programming. In general, if you don’t know what a command does, just type <code>&lt;command name&gt; --help.</code> You can do <code>man &lt;command name&gt;</code> to obtain further information. Here, <code>man</code> stands for manual. If you need more user-friendly information, please consider using <a href="https://tldr.sh/"><code>tldr</code></a>.</p>
<p>Let’s make this simple case complex by scaling up. Suppose we want to make 100 duplicates of the <code>test</code> file. Below is the one-line code that performs the task!</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="dt">{</span><span class="dv">1</span><span class="dt">..</span><span class="dv">100</span><span class="dt">}</span><span class="kw">;</span> <span class="cf">do</span> <span class="fu">cp</span> test <span class="st">"test_</span><span class="va">$i</span><span class="st">"</span><span class="kw">;</span> <span class="cf">done</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let me break down the seemingly complex workflow.</p>
<ol type="1">
<li><p><code>for i in {1..100}.</code> This is a for loop. The numbers 1..100 inside the curly braces <code>{}</code> indicates the range of integers from 1 to 100. In R, this is equivalent to for (i in 1:100) {}<br>
</p></li>
<li><p><code>;</code> is used to use multiple commands without making line breaks. ; works in the same way in R.</p></li>
<li><p><code>$var</code> returns the value associated with a variable. Type <code>name=&lt;Your name&gt;</code>. Then, type <code>echo $name.</code> You should see your name printed. Variable assignment is one of the most basic things you’ll learn in any programming. In R, we do this by using -&gt;</p></li>
</ol>
<p>If you have zero experience in programming, I might have provided too many concepts too early, like variable assignment and for loop. However, you don’t need to worry about them at this point. We will cover them in the next chapter.</p>
<p>I will give you one more example to illustrate how powerful the command line is. Suppose we want to find which file contains the character “COVID.” This is equivalent to finding a needle in a haystack. It’s a daunting task for humans, but not for computers. Commands are verbs. So, to express this problem in a language that computers could understand, let’s first find what command we should use. Often, a simple Google or <a href="https://stackoverflow.com/">Stack Overflow</a> search leads to an answer.</p>
<p>In this case, <code>grep</code> is the answer (there’s also grep in R). This command finds PATTERNS in each FILE. What follows - are options (called flags): <code>r</code> (recursive), <code>n</code> (line number), <code>w</code> (match only whole words), <code>e</code> (use patterns for matching). <code>rnw</code> are for output control and <code>e</code> is for pattern selection.</p>
<p>So, to perform the task above, you just need one-line code: <code>grep -r -n -w -e "COVID''</code></p>
<p><strong>Quick reminders</strong> - <code>grep</code>: command - <code>-rnw -e</code>: flags - <code>COVID</code>: argument (usually file or file paths)</p>
<p>Let’s remove (=<code>rm</code>) all the duplicate files and the original file. <code>*</code> (any number of characters) is a wildcard (if you want to identify a single number of characters, use <code>?</code>). It finds every file whose name starts with <code>test_</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> test_<span class="pp">*</span> test </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Enough with demonstrations. What is this black magic? Can you do the same thing using a graphical interface? Which method is more efficient? I hope that my demonstrations give you enough sense of why learning the command line could be incredibly useful. In my experience, mastering the command line helps automate your research process from end to end. For instance, you don’t need to write files from a website using your web browser. Instead, you can run the <code>wget</code> command in the terminal. Better yet, you don’t even need to run the command for the second time. You can write a Shell script (<code>*.sh</code>) that automates downloading, moving, and sorting multiple files.</p>
</section>
<section id="unix-shell" class="level3">
<h3 class="anchored" data-anchor-id="unix-shell">UNIX Shell</h3>
<p>The other thing you might have noticed is that there are many overlaps between the commands and base R functions (R functions that can be used without installing additional packages). This connection is not coincident. UNIX preceded and influenced many programming languages, including R.</p>
<p>The following materials on UNIX and Shell are adapted from [the software carpentry](https://bids.GitHub.io/2015-06-04-berkeley/shell/00-intro.html.</p>
<section id="unix" class="level4">
<h4 class="anchored" data-anchor-id="unix">Unix</h4>
<p>UNIX is an <strong>operating system + a set of tools (utilities)</strong>. It was developed by AT &amp; T employees at Bell Labs (1969-1971). From Mac OS X to Linux, many of the current operation systems are some versions of UNIX. Command-line INTERFACE is a way to communicate with your OS by typing, not pointing, and clicking.</p>
<p>For this reason, if you’re using Mac OS, then you don’t need to do anything else to experience UNIX. You’re already all set.</p>
<p>If you’re using Windows, you need to install either GitBash (a good option if you only use Bash for Git and GitHub) or Windows Subsystem (highly recommended if your use case goes beyond Git and GitHub). For more information, see <a href="https://github.com/cjbarrie/CS-ED/blob/main/other/setup.md">this installation guideline</a>. If you’re a Windows user and don’t use Windows 10, I recommend installing <a href="https://www.virtualbox.org/">VirtualBox</a>.</p>
<p>UNIX is old, but it is still mainstream, and it will be. Moreover, <a href="https://en.wikipedia.org/wiki/Unix_philosophy">the UNIX philosophy</a> (“Do One Thing And Do It Well”)—minimalist, modular software development—is highly and widely influential.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/tc4ROCJYbm0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
  
<p>AT&amp;T Archives: The UNIX Operating System</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/xnCgoEyz31M" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Unix50 - Unix Today and Tomorrow: The Languages </p>
</section>
<section id="kernel" class="level4">
<h4 class="anchored" data-anchor-id="kernel">Kernel</h4>
<p>The kernel of UNIX is the hub of the operating system: it allocates time and memory to programs. It handles the <a href="http://users.ox.ac.uk/~martinw/unix/chap3.html">filestore</a> (e.g., files and directories) and communications in response to system calls.</p>
</section>
<section id="shell" class="level4">
<h4 class="anchored" data-anchor-id="shell">Shell</h4>
<p>The shell is an interactive program that provides an interface between the user and the kernel. The shell interprets commands entered by the user or supplied by a Shell script and passes them to the kernel for execution.</p>
</section>
<section id="human-computer-interfaces" class="level4">
<h4 class="anchored" data-anchor-id="human-computer-interfaces">Human-Computer interfaces</h4>
<p>At a high level, computers do four things:</p>
<ul>
<li>run programs</li>
<li>store data</li>
<li>communicate with each other</li>
<li>interact with us (through either CLI or GUI)</li>
</ul>
</section>
<section id="the-command-line-1" class="level4">
<h4 class="anchored" data-anchor-id="the-command-line-1">The Command Line</h4>
<p>This kind of interface is called a <strong>command-line interface</strong>, or CLI, to distinguish it from the <strong>graphical user interface</strong>, or GUI, that most people now use.</p>
<p>The heart of a CLI is a <strong>read-evaluate-print loop</strong>, or REPL: when the user types a command and then presses the enter (or return) key, the computer reads it, executes it, and prints its output. The user then types another command, and so on until the user logs off.</p>
<p>If you’re using RStudio, you can use terminal inside RStudio (next to the “Console”). (For instance, type Alt + Shift + M)</p>
</section>
<section id="the-shell" class="level4">
<h4 class="anchored" data-anchor-id="the-shell">The Shell</h4>
<p>This description makes it sound as though the user sends commands directly to the computer and sends the output directly to the user. In fact, there is usually a program in between called a <strong>command shell</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/shell.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Source: Prashant Lakhera</figcaption><p></p>
</figure>
</div>
<p>What the user types go into the shell; it figures out what commands to run and orders the computer to execute them.</p>
<p>Note, the shell is called <em>the shell</em>: it encloses the operating system to hide some of its complexity and make it simpler to interact with.</p>
<p>A shell is a program like any other. What’s special about it is that its job is to run other programs rather than do calculations itself. The commands are themselves programs: when they terminate, the shell gives the user another prompt ($ on our systems).</p>
</section>
<section id="bash" class="level4">
<h4 class="anchored" data-anchor-id="bash">Bash</h4>
<p>The most popular Unix shell is <strong>Bash</strong>, the Bourne Again Shell (so-called because it’s derived from a shell written by Stephen Bourne — this is what passes for wit among programmers). Bash is the default shell on most modern implementations of <strong>Unix</strong> and in most packages that provide Unix-like tools for Windows.</p>
</section>
<section id="why-shell" class="level4">
<h4 class="anchored" data-anchor-id="why-shell">Why Shell?</h4>
<p>Using Bash or any other shell sometimes feels more like programming than like using a mouse. Commands are terse (often only a couple of characters long), their names are frequently cryptic, and their output is lines of text rather than something visual like a graph.</p>
<p>On the other hand, the shell allows us to combine existing tools in powerful ways with only a few keystrokes and set up pipelines to handle large volumes of data automatically.</p>
<p>In addition, the command line is often the easiest way to interact with remote machines (explains why we learn Bash before learning Git and GitHub). If you work in a team and your team manages data in a remote server, you will likely need to get access the server via something like <code>ssh</code>.</p>
</section>
<section id="our-first-command" class="level4">
<h4 class="anchored" data-anchor-id="our-first-command">Our first command</h4>
<p>The part of the operating system responsible for managing files and directories is called the <strong>file system</strong>. It organizes our data into files, which hold information, and directories (also called “folders”), which hold files or other directories.</p>
<p>Several commands are frequently used to create, inspect, rename, and delete files and directories. To start exploring them, let’s open a shell window:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">jae@jae-X705UDR:~$</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s demystify the output above. There’s nothing complicated.</p>
<ul>
<li>jae: a specific user name</li>
<li>jae-X705UDR: your computer/server name</li>
<li><code>~</code>: current directory (<code>~</code> = home)</li>
<li><code>$</code>: a <strong>prompt</strong>, which shows us that the shell is waiting for input; your shell may show something more elaborate.</li>
</ul>
<p>Type the command <code>whoami,</code> then press the Enter key (sometimes marked Return) to send the command to the shell.</p>
<p>The command’s output is the ID of the current user, i.e., it shows us who the shell thinks we are:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> whoami</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Should be your user name </span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">jae</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>More specifically, when we type <code>whoami</code> the shell, the following sequence of events occurs behind the screen.</p>
<ol type="1">
<li>Finds a program called <code>whoami</code>,</li>
<li>Runs that program,</li>
<li>Displays that program’s output, then</li>
<li>Displays a new prompt to tell us that it’s ready for more commands.</li>
</ol>
</section>
<section id="communicating-to-other-systems" class="level4">
<h4 class="anchored" data-anchor-id="communicating-to-other-systems">Communicating to other systems</h4>
<p>In the next unit, we’ll focus on the structure of our own operating systems. But our operating systems rarely work in isolation; we often rely on the Internet to communicate with others! You can visualize this sort of communication within your own shell by asking your computer to <code>ping</code> (based on the old term for submarine sonar) an IP address provided by Google (8.8.8.8); in effect, this will test whether your Internet is working.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ping 8.8.8.8</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note: Windows users may have to try a slightly different alternative:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ping <span class="at">-t</span> 8.8.8.8</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(Thanks <a href="http://www.paulthissen.org/">Paul Thissen</a> for the suggestion!). Note: press ctrl + C to stop your terminal pinging!</p>
</section>
<section id="file-system-organization" class="level4">
<h4 class="anchored" data-anchor-id="file-system-organization">File system organization</h4>
<p>Next, let’s find out where we are by running a <code>pwd</code> command (<strong>print working directory</strong>).</p>
<p>At any moment, our <strong>current working directory</strong> is our current default directory, i.e., the directory that the computer assumes we want to run commands in unless we explicitly specify something else.</p>
<p>Here, the computer’s response is <code>/home/jae,</code> which is the <strong>home directory</strong>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pwd</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<h4 id="home-directory" class="anchored">Home Directory</h4>
<p>The home directory path will look different on different operating systems. For example, on Linux, it will look like <code>/home/jae,</code> and on Windows, it will be similar to <code>C:\Documents and Settings\jae.</code> Note that it may look slightly different for different versions of Windows.</p>
</blockquote>
<blockquote class="blockquote">
<h4 id="whoami" class="anchored">whoami</h4>
<p>If the command to find out who we are is <code>whoami,</code> the command to find out where we are ought to be called <code>whereami,</code> so why is it <code>pwd</code> instead? The usual answer is that in the early 1970s, when Unix was first being developed, every keystroke counted: the devices of the day were slow, and backspacing on a teletype was so painful that cutting the number of keystrokes to cut the number of typing mistakes was a win for usability. The reality is that commands were added to Unix one by one, without any master plan, by people who were immersed in its jargon.</p>
<p>The good news: because these basic commands were so integral to the development of early Unix, they have stuck around and appear (in some form) in almost all programming languages.</p>
</blockquote>
<blockquote class="blockquote">
<p>If you’re working on a Mac, the file structure will look similar, but not identical. The following image shows a file system graph for the typical Mac.</p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./Users/cbarrie6/Dropbox/Teaching/Edinburgh/teaching/CS_22-23/CS-ED/_book/images/dirtree.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">File Directory</figcaption><p></p>
</figure>
</div>
<p>We know that our current working directory <code>/home/jae</code> is stored inside <code>/home</code> because <code>/home</code> is the first part of its name. Similarly, we know that <code>/home</code> is stored inside the root directory <code>/</code> because its name begins with <code>/</code>.</p>
</section>
<section id="listing" class="level4">
<h4 class="anchored" data-anchor-id="listing">Listing</h4>
<p>Let’s see what’s in your home directory by running <code>ls</code> (**list files and directories):</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Applications</span>        Dropbox         Pictures</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Creative</span> Cloud Files    Google Drive        Public</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Desktop</span>         Library         Untitled.ipynb</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Documents</span>       Movies          anaconda</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Downloads</span>       Music           file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>ls</code> prints the names of the files and directories in the current directory in alphabetical order, arranged neatly into columns.</p>
<p>We can make <code>ls</code> more useful by adding flags. For instance, you can make your computer show only directories in the file system using the following command. Here <code>-F</code> flag classifies files based on some types. For example, <code>/</code> indicates directories.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-F</span> /</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The leading <code>/</code> tells the computer to follow the path from the file system’s root, so it always refers to exactly one directory, no matter where we are when we run the command.</p>
<p>If you want to see only directories in the current working directory, you can do the following. (Remember <code>^</code>? This wildcard identifies a single number of characters. In this case, `d’.)</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-l</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="st">"^d"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What if we want to change our current working directory? Before we do this, <code>pwd</code> shows us that we’re in <code>/home/jae,</code> and <code>ls</code> without any arguments shows us that directory’s contents:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pwd</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Applications</span>        Dropbox         Pictures</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Creative</span> Cloud Files    Google Drive        Public</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Desktop</span>         Library         Untitled.ipynb</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="ex">Documents</span>       Movies          anaconda</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="ex">Downloads</span>       Music           file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Use relative paths (e.g., <code>../spring_2021/references.md</code>) whenever it’s possible so that your code is not dependable on how your system is configured.</p>
<p><strong>Additional tips</strong></p>
<p>How can I find pdf files in <code>Downloads</code> using the terminal? Remember <code>*</code> wildcard?</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Downloads/ </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> <span class="pp">*</span>.pdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Also, note that you don’t need to type every character. Type the first few characters, then press TAB (autocomplete). This is called <strong>tab-completion</strong>, and we will see it in R as we go on.</p>
</section>
<section id="moving-around" class="level4">
<h4 class="anchored" data-anchor-id="moving-around">Moving around</h4>
<p>We can use <code>cd</code> (<strong>change directory</strong>) followed by a directory name to change our working directory. First we need to get the file path, which we can do on a Mac the following <a href="https://setapp.com/how-to/how-to-find-the-path-of-a-file-in-mac">ways</a> and on a Windows computer like <a href="https://www.howtogeek.com/670447/how-to-copy-the-full-path-of-a-file-on-windows-10/">this</a>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd Desktop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>cd</code> doesn’t print anything, but if we run <code>pwd</code> after it, we can see that we are now in <code>/home/jae/Desktop.</code></p>
<p>If we run <code>ls</code> without arguments now, it lists the contents of <code>/home/jae/Desktop,</code> because that’s where we now are:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pwd</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae/Desktop</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We now know how to go down the directory tree: how do we go up? We could use an absolute path:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd /home/jae/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>but it’s almost always simpler to use <code>cd ..</code> to go up one level:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pwd</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae/Desktop</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd ..</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>..</code> is a special directory name meaning “the directory containing this one,” or more succinctly, the <strong>parent</strong> of the current directory. Sure enough, if we run <code>pwd</code> after running <code>cd ..</code>, we’re back in <code>/home/jae/</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pwd</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/jae/</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The special directory <code>..</code> doesn’t usually show up when we run <code>ls</code>. If we want to display it, we can give <code>ls</code> the `-a’ flag:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-a</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="bu">.</span>       .localized  Shared</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="ex">..</span>      Guest       rachel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>-a' stands for "show all"; it forces</code>ls<code>to show us file and directory names that begin with</code>.<code>, such as</code>..`.</p>
<blockquote class="blockquote">
<h4 id="hidden-files-for-your-own-protection" class="anchored">Hidden Files: For Your Own Protection</h4>
<p>As you can see, many other items just appeared when we enter <code>ls -a'. These files and directories begin with</code>.` followed by a name. Usually, files and directories hold important programmatic information. They are kept hidden so that users don’t accidentally delete or edit them without knowing what they’re doing.</p>
</blockquote>
<p>As you can see, it also displays another special directory that’s just called <code>.</code>, which means “the current working directory”. It may seem redundant to have a name for it, but we’ll see some uses for it soon.</p>
<p><strong>Additional tips</strong></p>
<p>The above navigating exercises help us know about <code>cd</code> command, but not very exciting. So let’s do something more concrete and potentially useful. Let’s say you downloaded a file using your web browser and locate that file. How could you do that?</p>
<p>Your first step should be learning more about the <code>ls</code> command. You can do that by Googling or typing <code>ls --help.</code> By looking at the documentation, you can recognize that you need to add <code>-t</code> (sort by time). In other words, here we’re looking for the most recently created files in our working directory.</p>
<p>Then, what’s <code>|</code>? It’s called pipe, and it chains commands. For instance, if <code>&lt;command 1&gt; | &lt;command 2&gt;</code>, then command1’s output will be command2’s input. <code>head</code> list the first ten lines of a file. <code>-n1</code> flag makes it show only the first line of the output (n1).</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Don't forget to use TAB completion</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Downloads/ </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-t</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Yeah! We can do more cool things. For example, how can you find the most recently downloaded PDF file? You can do this by combining the two neat tricks you learned earlier.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-t</span> <span class="kw">|</span> <span class="fu">find</span> <span class="pp">*</span>.pdf <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n1</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="creating-copying-removing-and-renaming-files" class="level4">
<h4 class="anchored" data-anchor-id="creating-copying-removing-and-renaming-files">Creating, copying, removing, and renaming files</h4>
<section id="creating-files" class="level5">
<h5 class="anchored" data-anchor-id="creating-files">Creating files</h5>
<ol type="1">
<li>First, let’s create an empty directory named exercise</li>
</ol>
<div class="sourceCode" id="cb22"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> exercise </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li><p>You can check whether the directory is created by typing <code>ls</code>. If the print format is challenging to read, add <code>-l</code> flag. Did you notice the difference?</p></li>
<li><p>Let’s move to the <code>exercise</code> subdirectory and create a file named test</p></li>
</ol>
<div class="sourceCode" id="cb23"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> exercise <span class="kw">;</span> <span class="fu">touch</span> test <span class="kw">;</span> <span class="fu">ls</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="4" type="1">
<li>Read test</li>
</ol>
<div class="sourceCode" id="cb24"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> test </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="5" type="1">
<li>Hmn. It’s empty. Let’s add something there. <code>&gt;</code> = overwrite</li>
</ol>
<div class="sourceCode" id="cb25"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"something"</span> <span class="op">&gt;</span> test <span class="kw">;</span> <span class="fu">cat</span> test </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="6" type="1">
<li>Yeah! Can you add more? <code>&gt;&gt;</code> = append</li>
</ol>
<div class="sourceCode" id="cb26"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"anything"</span> <span class="op">&gt;&gt;</span> test <span class="kw">;</span> <span class="fu">cat</span> test </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="7" type="1">
<li>Removing “anything” from <code>test</code> is a little bit more complex because you need to know how to use <code>grep</code> (remember that we used this command in the very first example). Here, I just demonstrate that you can do this task using Bash, and let’s dig into this more when we talk about working with text files.</li>
</ol>
<div class="sourceCode" id="cb27"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-v</span> <span class="st">"anything"</span> test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="copying-and-removing-files" class="level5">
<h5 class="anchored" data-anchor-id="copying-and-removing-files">Copying and Removing Files</h5>
<ol type="1">
<li>Can we make a copy of <code>test</code>? Yes!</li>
</ol>
<div class="sourceCode" id="cb28"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test test_1<span class="kw">;</span> <span class="fu">cat</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>Can we make 100 copies of <code>test?</code> Yes!</li>
</ol>
<p>You can do this</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test test_1 </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test test_2</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test test_3 </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="dt">{</span><span class="dv">1</span><span class="dt">..</span><span class="dv">100</span><span class="dt">}</span><span class="kw">;</span> <span class="cf">do</span> <span class="fu">cp</span> test <span class="st">"test_</span><span class="va">$i</span><span class="st">"</span><span class="kw">;</span> <span class="cf">done</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="3" type="1">
<li>Can you remove all of the <code>test_</code> files?</li>
</ol>
<p>You can do this</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> test_1</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> test_2</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> test_3 </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or</p>
<pre><code>rm test_*</code></pre>
<p>Which one do you like?</p>
<ol start="4" type="1">
<li>Let’s remove the directory.</li>
</ol>
<div class="sourceCode" id="cb33"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> .. </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> exercise/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>rm</code> command should not work because <code>exercise</code> is not a file. Type <code>rm --help</code> and see which flag will be helpful. It might be `-d’ (remove empty directories).</p>
<pre><code>rm -d exercise/  </code></pre>
<p>Oops. Still not working because the directory is not empty. Try this. Now, it works.</p>
<pre><code>rm -r exercise/ </code></pre>
<p>What’s <code>-r</code>? It stands for recursion (e.g., Recursion is a very powerful idea in programming and helps solve complex problems. We’ll come back to it many times (e.g., <code>purrr::reduce()</code> in R).</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/Mv9NEXX1VHc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p> What on Earth is Recursion? - Computerphile </p>
</section>
<section id="renaming-files" class="level5">
<h5 class="anchored" data-anchor-id="renaming-files">Renaming files</h5>
<ol type="1">
<li>Using <code>mv</code></li>
</ol>
<p>First, we will learn how to move files and see how it’s relevant for renaming files.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create two directories </span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> exercise_1 <span class="kw">;</span> <span class="fu">mkdir</span> exercise_2 </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check whether they were indeed created </span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> exer<span class="pp">*</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty file </span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> exercise_1/test </span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Move to exercise_1 and check </span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> exercise_1 <span class="kw">;</span> <span class="fu">ls</span> </span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Move this file to exercise_2 </span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> test ../exercise_2 </span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Move to exercise_2 and check </span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> exercise_2 <span class="kw">;</span> <span class="fu">ls</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What has <code>mv</code> got to do with renaming?</p>
<ul>
<li>[mv] [source] [destination]</li>
</ul>
<div class="sourceCode" id="cb37"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> test new_test <span class="kw">;</span> <span class="fu">ls</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>Using <code>rename</code></li>
</ol>
<p><code>mv</code> is an excellent tool to rename one file. But how about renaming many files? (Note that your pwd is still <code>exercise_2</code> where you have the <code>new_test</code> file.)</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="dt">{</span><span class="dv">1</span><span class="dt">..</span><span class="dv">100</span><span class="dt">}</span><span class="kw">;</span> <span class="cf">do</span> <span class="fu">cp</span> new_test <span class="st">"test_</span><span class="va">$i</span><span class="st">.csv"</span><span class="kw">;</span> <span class="cf">done</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then install <code>rename</code>. Either <code>sudo apt-get install -y rename</code> or <code>brew install rename</code> (MacOS).</p>
<p>Basic syntax: rename [flags] perlexpr (Perl Expression) files. Note that <a href="https://en.wikipedia.org/wiki/Perl">Perl</a> is another programming language.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename every csv file to txt file </span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rename</span> <span class="st">'s/.csv/.txt/'</span> <span class="pp">*</span>.csv</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check </span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The key part is <code>s/.csv/.txt/</code> = <code>s/FIND/REPLACE</code></p>
<p>Can you perform the same task using GUI? Yes, you can, but it would be more time-consuming. Using the command line, you did this via just one-liner(!). <a href="http://korflab.ucdavis.edu/Bios/bio_keithb.html">Keith Brandnam</a> wrote an excellent book titled <a href="https://www.amazon.com/Unix-Perl-Rescue-Keith-Bradnam/dp/0521169828">UNIX and Perl to the Rescue! (Cambridge University Press 2012)</a> that discusses how to use UNIX and Perl to deal with massively large datasets.</p>
</section>
</section>
<section id="working-with-csv-and-text-files" class="level4">
<h4 class="anchored" data-anchor-id="working-with-csv-and-text-files">Working with CSV and text files</h4>
<ol type="1">
<li>Download a CSV file (Forbes World’s Billionaires lists from 1996-2014). For more on the data source, see <a href="https://corgis-edu.github.io/corgis/csv/billionaires/">this site</a>.</li>
</ol>
<div class="sourceCode" id="cb40"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> https://corgis-edu.github.io/corgis/datasets/csv/billionaires/billionaires.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note you may first need to <code>brew install wget</code> (MacOS). To check whether it is installed on your machine, type:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> <span class="at">-V</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you’re using Windows and you don’t find wget, try following these <a href="https://builtvisible.com/download-your-website-with-wget/">steps</a>.</p>
<ol start="2" type="1">
<li>Read the first two lines. <code>cat</code> is printing, and <code>head</code> shows the first few rows. <code>-n2</code> limits these number of rows equals 2.</li>
</ol>
<p><strong>Additional tips 1</strong> If you have a large text file, <code>cat</code> prints everything at once is inconvenient. The alternative is using <code>less.</code></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> billionaires.csv <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To print the whole data in more legible format with column separation, we can type:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> billionaires.csv <span class="kw">|</span> <span class="ex">column</span> <span class="at">-t</span> <span class="at">-s,</span> <span class="kw">|</span> <span class="fu">less</span> <span class="at">-S</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="3" type="1">
<li>Check the size of the dataset (2615 rows). So, there are 2014 observations (n-1 because of the header). <code>wc</code> prints newline, word, and byte counts for each file. If you run <code>wc</code> without <code>-l</code> flag, you get the following: <code>2615 (line) 20433 (word) 607861 (byte) billionaires.csv</code></li>
</ol>
<div class="sourceCode" id="cb44"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> billionaires.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="4" type="1">
<li>How about the number of columns? <code>sed</code> is a stream editor and very powerful when it’s used to filter text in a pipeline. For more information, see <a href="https://www.gnu.org/software/sed/manual/sed.html">this article</a>. You’ve already seen <code>s/FIND/REPLACE.</code> Here, the pattern we are using is <code>s/delimiter/\n/g.</code> We’ve seen that the delimiter is <code>,</code> so that’s what I plugged in the command below.</li>
</ol>
<div class="sourceCode" id="cb45"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span> <span class="at">-1</span> billionaires.csv <span class="kw">|</span> <span class="fu">sed</span> <span class="st">'s/,/\n/g'</span> <span class="kw">|</span> <span class="fu">nl</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Additional tips 2</strong> The other cool command for text parsing is <code>awk.</code> This command is handy for filtering.</p>
<ol type="1">
<li>This is the same as using <code>cat.</code> So, what’s new?</li>
</ol>
<div class="sourceCode" id="cb46"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">'{print}'</span> billionaires.csv </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>This is new.</li>
</ol>
<div class="sourceCode" id="cb47"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">'/China/ {print}'</span> billionaires.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="3" type="1">
<li>Let’s see only the five rows. We filtered rows so that every row in the final dataset contains ‘China.’</li>
</ol>
<div class="sourceCode" id="cb48"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">'/China/ {print}'</span> billionaires.csv <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n5</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="4" type="1">
<li>You can also get the numbers of these rows.</li>
</ol>
<div class="sourceCode" id="cb49"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="st">'/China/ {print NR}'</span> billionaires.csv </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="user-roles-and-file-permissions" class="level4">
<h4 class="anchored" data-anchor-id="user-roles-and-file-permissions">User roles and file permissions</h4>
<ol type="1">
<li><p>If you need admin access, use <code>sudo.</code> For instance, <code>sudo apt-get install &lt;package name&gt;</code> installs the package.</p></li>
<li><p>To run a Shell script (.sh), you need to change its file mode. You can make the script executable by typing <code>chmod +x &lt;Shell script&gt;.</code></p></li>
<li><p>Then, you can run it by typing <code>./pdf_copy_sh.</code> The <code>.</code> here refers to the current working directory.</p></li>
</ol>
<p>Note: Other options to do the same thing: <code>sh pdf_copy_sh.</code> or <code>bash pdf_copy_sh.</code></p>
</section>
<section id="writing-your-first-shell-script-.sh" class="level4">
<h4 class="anchored" data-anchor-id="writing-your-first-shell-script-.sh">Writing your first Shell script (.sh)</h4>
<p>Finally, we’re learning how to write a Shell script (a file that ends with .sh). Here I show how to write a Shell script that creates a subdirectory called <code>/pdfs</code> under <code>/Download</code> directory, then find PDF files in <code>/Download</code> and copy those files to <code>pdfs.</code> Essentially, this Shell script creates a backup. Name this Shell script as ‘pdf_copy.sh.’</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh # Stating this is a Shell script. </span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> /home/jae/Downloads/pdfs <span class="co"># Obviously, in your case, this file path would be incorrect.</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Downloads</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="pp">*</span>.pdf pdfs/ </span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Copied pdfs"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You should now have a backup of all the PDFs that were in you Downloads folder!</p>
<p><strong>Additional resources</strong></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/aw9wHbFTnAQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p> Using make and writing Makefile (in C++ or C) by Programming Knowledge </p>
</section>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<ul>
<li><p><a href="https://seankross.com/the-unix-workbench/">The Unix Workbench</a> by Sean Kross</p></li>
<li><p><a href="http://swcarpentry.GitHub.io/shell-novice/">The Unix Shell</a>, Software Carpentry</p></li>
<li><p><a href="https://www.datascienceatthecommandline.com/1e/">Data Science at the Command Line</a> by Jeroen Janssens</p></li>
</ul>

<iframe width="560" height="315" src="https://www.youtube.com/embed/QxpOKbv-KQU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p> Obtaining, Scrubbing, and Exploring Data at the Command Line by Jeroen Janssens from YPlan, Data Council </p>
<ul>
<li><p><a href="https://missing.csail.mit.edu/2020/shell-tools/">Shell Tools and Scripting</a>, ./missing-semester, MIT</p></li>
<li><p><a href="https://missing.csail.mit.edu/2020/command-line/">Command-line Environment</a>, ./missing-semester, MIT</p></li>
</ul>
</section>
</section>
<section id="git-and-github" class="level2">
<h2 class="anchored" data-anchor-id="git-and-github">Git and GitHub</h2>
<section id="the-big-picture-1" class="level3">
<h3 class="anchored" data-anchor-id="the-big-picture-1">The Big Picture</h3>
<p><strong>The most important point</strong></p>
<ul>
<li><p>Backup != Version control</p></li>
<li><p>If you do version control, you need to save your <strong>raw data</strong> in your hard disk, external drive, or cloud, but nothing else. In other words, anything you are going to change should be subject to version control (also, it’s not the same as saving your code with names like 20200120_Kim or something like that). Below, I will explain what version control is and how to do it using Git and GitHub.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i2.wp.com/cdn-images-1.medium.com/max/399/1*7HHA_UkjUK7wp7qP4CYu1g.png?zoom=1.75&amp;w=456&amp;ssl=1" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Why you should do version control</figcaption><p></p>
</figure>
</div>
</section>
<section id="version-control-system" class="level3">
<h3 class="anchored" data-anchor-id="version-control-system">Version control system</h3>
<p>According to <a href="https://guides.GitHub.com">GitHub Guides</a>, a version control system “tracks the history of changes as people and teams collaborate on projects together.” Specifically, it helps to track the following information:</p>
<ul>
<li>Which changes were made?</li>
<li>Who made the changes?</li>
<li>When were the changes made?</li>
<li>Why were changes needed?</li>
</ul>
<p>Git is a case of a <a href="https://en.wikipedia.org/wiki/Distributed_version_control">distributed version control system</a>, common in open source and commercial software development. This is no surprise given that Git <a href="https://lkml.org/lkml/2005/4/6/121">was originally created</a> to deal with Linux kernel development.</p>
<p>The following images, from <a href="git-scm.com">Pro Git</a>, show how a centralized (e.g., CVS, Subversion, and Perforce) and decentralized VCS (e.g., Git, Mercurial, Bazzar or Darcs) works differently.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://git-scm.com/book/en/v2/images/centralized.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Centralized version control system</figcaption><p></p>
</figure>
</div>
<p>Figure 2. Centralized VCS.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://git-scm.com/book/en/v2/images/distributed.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Decentralized version control system</figcaption><p></p>
</figure>
</div>
<p>Figure 3. Decentralized VCS.</p>
<p>For more information on the varieties of version control systems, please read <a href="https://pdfs.semanticscholar.org/4490/4c70bc91e1bed4fe02b9e2282f031b7c90ea.pdf">Petr Baudis’s review</a> on that subject.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/PFwUHTE6mFc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p> Webcast • Introduction to Git and GitHub • Featuring Mehan Jayasuriya, GitHub Training &amp; Guides </p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://plain-text.co/figures/git-basic.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 2.1. A schematic git workflow from Healy’s “The Plain Person’s Guide to Plain Text Social Science”</figcaption><p></p>
</figure>
</div>
<p>For more information, watch the following video:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/u6G3fbmpWr8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p> The Basics of Git and GitHub, GitHub Training &amp; Guides </p>
</section>
<section id="setup" class="level3">
<h3 class="anchored" data-anchor-id="setup">Setup</h3>
<section id="signup" class="level4">
<h4 class="anchored" data-anchor-id="signup">Signup</h4>
<ol type="1">
<li>Make sure you have installed Git (<a href="https://happygitwithr.com/install-git.html#install-git">[tutorial]</a>).</li>
</ol>
<div class="sourceCode" id="cb51"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> <span class="at">--version</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co"># git version 2.xx.x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>If you haven’t, please sign up for a GitHub account: https://github.com/</li>
</ol>
<ul>
<li>If you’re a student, please also sign up for GitHub Student Developer Pack: https://education.github.com/pack Basically, you can get a GitHub pro account for free (so why not?).</li>
</ul>
<ol start="3" type="1">
<li>Access GitHub using Hypertext Transfer Protocol Secure (HTTPS) or Secure Shell (SSH).</li>
</ol>
<p><strong>HTTPS</strong></p>
<ol type="1">
<li><p>Create a personal access token. Follow this guideline: https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token</p></li>
<li><p>Store your credential somewhere safe. You can use an R package like this <a href="https://gitcreds.r-lib.org/">gitcreds</a> and <a href="https://docs.ropensci.org/credentials/">credentials</a> to do so.</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"gitcreds"</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gitcreds)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co"># First time only </span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="fu">gitcreds_set</span>()</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Check </span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="fu">gitcreds_get</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>If you get asked to provide your password when you pull or push, the password should be your GitHub token (to be precise, personal access token).</li>
</ol>
<p><strong>SSH</strong></p>
<p>If possible, I highly recommend using SSH. Using SSH is safer and also makes connecting GitHub easier. SSH has two keys (public and private). The public key could be stored on any server (e.g., GitHub) and the private key could be saved in your client (e.g., your laptop). Only when the two are matched, the system unlocks.</p>
<ol type="1">
<li><p>First, read <a href="https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh">this tutorial</a> and create SSH keys.</p></li>
<li><p>Second, read <a href="https://happygitwithr.com/ssh-keys.html">this tutorial</a> and check the keys and provide the public key to GitHub and add the private key to ssh-agent.</p></li>
</ol>
<p>Next time, if you want to use SSH, remember the following.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SSH</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="ex">git@github.com:</span><span class="op">&lt;</span>user<span class="op">&gt;</span>/<span class="op">&lt;</span>repo<span class="op">&gt;</span>.git</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="co"># HTTPS</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="ex">https://github.com/</span><span class="op">&lt;</span>user<span class="op">&gt;</span>/<span class="op">&lt;</span>repo<span class="op">&gt;</span>.git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="configurations" class="level4">
<h4 class="anchored" data-anchor-id="configurations">Configurations</h4>
<ol type="1">
<li>Method 1: using the terminal</li>
</ol>
<div class="sourceCode" id="cb54"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># User name and email </span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> user.name <span class="st">"Firstname Lastname"</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> user.email username@school.extension</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The first of this <code>config</code> calls asks for your user name as specified on Github.</p>
<ol start="2" type="1">
<li>Method 2: using RStudio</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"usethis"</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(usethis)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">use_git_config</span>(<span class="at">user.name =</span> <span class="st">"&lt;Firstname Lastname&gt;"</span>,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">user.email =</span> <span class="st">"&lt;username@school.extension&gt;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You’re all set!</p>
</section>
</section>
<section id="cloning-a-repository" class="level3">
<h3 class="anchored" data-anchor-id="cloning-a-repository">Cloning a repository</h3>
<p>Let’s clone a repository. Here, we’re actually going to clone the repository for my course book.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/cjbarrie/CS-ED</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you <code>cd CS-ED/</code> you can move to the cloned course repository. Cloning: copying a public GitHub repo (remote) -&gt; Your machine</p>
<p>If you accidentally changed something up in your local copy, you can just overwrite the local copy using the remote repo and make it exactly looks like the latter.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download content from a remote repo </span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> fetch origin</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Going back to origin/main</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> reset <span class="at">--hard</span> origin/main </span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove local files </span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clean <span class="at">-f</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Additional tips</strong> You can see cloning and forking on GitHub, and they sound similar. Let me differentiate them.</p>
<ul>
<li><p>Cloning: creating a local copy of a <strong>public</strong> GitHub repo. In this case, you have writing access to the repo.</p></li>
<li><p>Forking (for open source projects): creating a copy of a <strong>public</strong> GitHub repo to your GitHub account, then you can clone it. In this case, you don’t have writing access to the repo. You need to create pull requests if you want your changes reflected in the original repo. Don’t worry about pull requests, as I will explain the concept shortly. For more information, see <a href="https://docs.github.com/en/desktop/contributing-and-collaborating-using-github-desktop/cloning-and-forking-repositories-from-github-desktop">this documentation</a>.</p></li>
</ul>
</section>
<section id="making-a-repository" class="level3">
<h3 class="anchored" data-anchor-id="making-a-repository">Making a repository</h3>
<p>Create a new directory and move there. Then initialize</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># new directory </span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir code_exercise</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co"># move </span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd code_exercise </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git init </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Alternatively, you can create a Git repository via GitHub and then clone it on your local machine. Perhaps, it is an easier path for new users (I also do this all the time).</p>
<p>We can do this in the following way. First, go to you Github profile and click on the Repositories tab. Then click on “New.” You’ll be asked to give the Repo a name and an optional description. I highly recommend adding README (more on why we do this in the following subsection). We will discuss later on what a .gitignore file is for.</p>
<p><img src="images/githubrepo.png" class="img-fluid"></p>
<p>Once you have created your Repo you can then get the files on your local machine by calling the following:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git clone /path/to/repository</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Where the path will just be the URL for your Repository.</p>
<p><strong>Additional tips</strong> If you’re unfamiliar with basic Git commands, please refer to <a href="http://rogerdudler.GitHub.io/git-guide/files/git_cheat_sheet.pdf">this Git cheat sheet</a>.</p>
</section>
<section id="commit-changes" class="level3">
<h3 class="anchored" data-anchor-id="commit-changes">Commit changes</h3>
<p>These features show how Git works as a version control system.</p>
<p>If you edited files or added new ones, you need to update your repository. In Git terms, this action is called committing changes.</p>
<p>My current pwd is <code>CS-ED</code>. I created a text file named <code>test</code> containing text <code>chris.</code> You can check the file exists by typing `find “test```.</p>
<p>The following is a typical workflow to reflect this change to the remote.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git status <span class="co"># check what's changed. </span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git add . <span class="co"># update every change. In Git terms, you're staging. </span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git add file_name <span class="co"># or stage a specific file.</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"your comment"</span> <span class="co"># your comment for the commit. </span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git push origin main <span class="co"># commit the change. Origin is a default name given to a server by Git. `origin main` are optional. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Another image from <a href="https://git-scm.com/about/staging-area">Pro Git</a> nicely illustrates this process.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/gitwf.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Git Workflow</figcaption><p></p>
</figure>
</div>
<p>If you made a mistake, don’t panic. You can’t revert the process.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> reset <span class="at">--soft</span> HEAD~1 <span class="co"># if you still want to keep the change, but you go back to t-1 </span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> reset <span class="at">--hard</span> HEAD~1 <span class="co"># if you're sure the change is unnecessary </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Writing an informative commit is essential. To learn how to do this better, see the following video:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/m0t1mOeAJgs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p> Your Commits Should Tell a Story • Featuring Eliza Brock Marcum, GitHub Training &amp; Guides </p>
</section>
<section id="push-and-pull-or-fetch" class="level3">
<h3 class="anchored" data-anchor-id="push-and-pull-or-fetch">Push and pull (or fetch)</h3>
<p>These features show how Git works as a collaboration tool.</p>
<p>If you have not already done it, let’s clone the PS239T directory on your local machine.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git clone https://github.com/PS239T/spring_2021 <span class="co"># clone </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Additional tips 1</strong></p>
<p>If you try to remove <code>spring_2021</code> using <code>rm -r spring_2021/</code>, you will get an error about the write-protected regular file. Then, try <code>rm -rf spring_2021/</code>.</p>
<p>Then, let’s learn more about the repository.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git remote <span class="at">-v</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You should see something like the following:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="ex">origin</span>  git@github.com:PS239T/spring_2021 <span class="er">(</span><span class="ex">fetch</span><span class="kw">)</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="ex">origin</span>  git@github.com:PS239T/spring_2021 <span class="er">(</span><span class="ex">push</span><span class="kw">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you want to see more information, then type <code>git remote show origin.</code></p>
<p>Previously, we learned how to send your data to save in the local machine to the remote (the GitHub server). You can do that by editing or creating files, committing, and typing <strong>git push</strong>.</p>
<p>Instead, if you want to update your local data with the remote data, you can type <strong>git pull origin</strong> (something like pwd in bash). Alternatively, you can use fetch (retrieve data from a remote). Git retrieves the data and merges it into your local data when you do that.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git fetch origin</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Additional tips 2</strong></p>
<p>Developers usually use PR to refer pull requests. When you are making PRs, it’s recommended to scope down (small PRs) because they are easier on reviewers and to test. To learn about how to accomplish this, see <a href="https://www.netlify.com/blog/2020/03/31/how-to-scope-down-prs/">this blog post</a> by Sarah Drasner.</p>
</section>
<section id="branching" class="level3">
<h3 class="anchored" data-anchor-id="branching">Branching</h3>
<p>It’s an advanced feature of Git’s version control system that allows developers to “diverge from the main line of development and continue to do work without messing with that main line,” according to <a href="https://git-scm.com/book/en/v1/Git-Branching">Scott Chacon and Ben Straub</a>.</p>
<p>If you start working on a new feature, create a new branch.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git branch new_features</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git checkout new_features</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can see the newly created branch by typing <strong>git branch</strong>.</p>
<p>In short, branching makes Git <a href="https://git-scm.com/book/en/v2/Getting-Started-Git-Basics">works like</a> a mini file system.</p>
</section>
<section id="other-useful-commands" class="level3">
<h3 class="anchored" data-anchor-id="other-useful-commands">Other useful commands</h3>
<ol type="1">
<li>For tracking history</li>
</ol>
<div class="sourceCode" id="cb67"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git diff <span class="co"># to see what changed (e.g., inside a file)</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git log <span class="co"># to track who committed what</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git log <span class="at">-S</span> <span class="op">&lt;</span>pattern<span class="op">&gt;</span> # you can find a log that contains the pattern </span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git checkout <span class="co"># to recover old files </span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git revert <span class="co"># revert to the previous commit </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>For removing and renaming files</li>
</ol>
<div class="sourceCode" id="cb68"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git rm file_name <span class="co"># remove </span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git mv old_file_name new_file_name <span class="co"># rename a file </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>How about removing a directory only from GitHub but not local?</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> rm <span class="at">-r</span> <span class="at">--cached</span> <span class="op">&lt;</span>directory<span class="op">&gt;</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"&lt;message&gt;"</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="collaborations" class="level3">
<h3 class="anchored" data-anchor-id="collaborations">Collaborations</h3>
<p>Two options.</p>
<ul>
<li>Sharing a repository (suitable for a private project).</li>
<li>Fork and pull (suitable for an open-source project). ​ * The one who maintains the repository becomes the maintainer. ​ * The others can <a href="https://help.GitHub.com/articles/about-forks/">fork</a>, make changes, and even <a href="https://help.GitHub.com/articles/about-pull-requests/">pull</a> them back.</li>
</ul>
</section>
<section id="deployment-github-pages" class="level3">
<h3 class="anchored" data-anchor-id="deployment-github-pages">Deployment: GitHub Pages</h3>
<p>Useful to deploy websites. I used the GitHub page to deploy this book.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/4TrOCv5Kukk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p> Webcast • Get Started with GitHub Pages • Featuring Dani Traphagen, GitHub Training &amp; Guides </p>
</section>
<section id="tracking-progress-github-issues" class="level3">
<h3 class="anchored" data-anchor-id="tracking-progress-github-issues">Tracking progress: GitHub Issues</h3>
<p>Useful to collect and respond to questions and suggestions (e.g., bug reports and feature suggestions) on the projects on which you’re working.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/TJlYiMp8FuY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p> Webcast • GitHub Issues • A Quick Look, GitHub Training &amp; Guides </p>
</section>
<section id="project-management-github-dashboards" class="level3">
<h3 class="anchored" data-anchor-id="project-management-github-dashboards">Project management: GitHub Dashboards</h3>
<p>I use GitHub dashboards for almost every project that I have done.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/YxKhb3fxtsU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p> GitHub Projects Demo: Automation, Kanban, Scrum, Issues, Pull Request, Milestones, Issues, Tasks by Brandan Jones </p>
</section>
<section id="the-big-picture-2" class="level3">
<h3 class="anchored" data-anchor-id="the-big-picture-2">The Big Picture</h3>
<p>When you are reading this section, please note that you’ve already grasped some key concepts behind R programming language (functions and objects).</p>
<p>UNIX Commands (<code>cat</code>) = R Functions (<code>print</code>) Files = R Objects</p>
</section>
<section id="motivation" class="level3">
<h3 class="anchored" data-anchor-id="motivation">Motivation</h3>
<p>Why do you need to make your research computationally reproducible?: for your own sanity and for public benefit. That is, it makes your life a whole lot easier to have a history of what you’ve done and why. And it makes research more transparent and reproducible: others can see what you’ve done, how you’ve done it—and they can go off and build on this.</p>
<section id="how-to-organize-files-in-a-project" class="level4">
<h4 class="anchored" data-anchor-id="how-to-organize-files-in-a-project">How to organize files in a project</h4>
<p>You won’t be able to reproduce your project unless it is efficiently organized.</p>
<p>Step 1. <a href="https://environments.rstudio.com/"><strong>Environment</strong></a> is part of your project. If someone can’t reproduce your environment, they won’t be able to run your code.</p>
<ul>
<li>Launch R Studio. Tools &gt; Global Options. You <strong>should not</strong> check Restore .RData into workspace at startup. Also, set the saving workspace option to <strong>NEVER.</strong></li>
</ul>
<p>Step 2. For each project, create a project directory named after the project.</p>
<p>name_of_the_project</p>
<ul>
<li>01_script_that_does_first_thing.R</li>
<li>02_script_that_does_second_thing.R</li>
<li>data:
<ul>
<li>raw</li>
<li>processed (all processed, cleaned, and tided)</li>
</ul></li>
<li>figures</li>
<li>functions</li>
<li>reports (PDF, HTML, TEX, etc.,)</li>
<li>results (model outcomes, etc.,)</li>
<li>.gitignore (for Git)</li>
<li>name_of_project.Rproj (for R)</li>
<li>README.md (for Git)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Don't name it a project. Instead, use a more informative name. For instance, `us_election`, not `my_project.`</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">"../us_election"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Step 3. Launch R Studio. Choose File &gt; New project &gt; Browse existing directories &gt; Create project. This means each project has its own workspace.</p>
<p>Step 4. Organize files by putting them in separate subdirectories and sensibly naming them.</p>
<ul>
<li><p>Treat raw data as read-only (raw data should be RAW!) and put it in the <code>data</code> subdirectory.</p>
<ul>
<li>Again, note that version control does not need to replace backup. You still need to back up your raw data.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"us_election"</span>, <span class="st">"data"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And separate into <code>raw</code> and <code>processed</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"us_election/data/"</span>, <span class="st">"raw"</span>))</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"us_election/data/"</span>, <span class="st">"processed"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Separate figures into the <code>figures</code> subdirectory.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"us_election"</span>, <span class="st">"figures"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Put any reports in the <code>reports</code> subdirectory.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"us_election"</span>, <span class="st">"reports"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Put generated results in the `results`` subdirectory and treat them as disposable.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"us_election"</span>, <span class="st">"results"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Put your custom functions in the <code>functions</code> subdirectory.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"us_election"</span>, <span class="st">"functions"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Are you tired of creating these directories one by one? Why not automate? See the following example. You can save this function as a rscript (e.g., <code>setup.r</code>) and run it in the terminal using <code>Rscript &lt;script name&gt;.</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(pacman)) <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load here</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  purrr, <span class="co"># functional programming</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>  here <span class="co"># computational reproducibility</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom function</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>create_dirs <span class="ot">&lt;-</span> <span class="cf">function</span>(name) {</span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="fu">here</span>(name))</span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply function </span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">map</span>(<span class="fu">c</span>(<span class="st">"data"</span>, <span class="st">"figures"</span>, <span class="st">"reports"</span>, <span class="st">"results"</span>, <span class="st">"functions"</span>), create_dirs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Of course, you don’t have to use these exact names. But here’s an example of how I tend to structure my directories—and you’ll see it follows this basic structure.</p>
<p><img src="images/direx.png" class="img-fluid"></p>
</section>
</section>
<section id="how-to-organize-code-in-an-r-markdown-file" class="level3">
<h3 class="anchored" data-anchor-id="how-to-organize-code-in-an-r-markdown-file">How to organize code in an R markdown file</h3>
<ul>
<li><p>In addition to environment, <strong>workflow</strong> is an essential component of project efficiency and reproducibility.</p></li>
<li><p>What is R markdown? An R package, developed by <a href="https://yihui.org/en/">Yihui Xie</a>, provides an authoring framework for data science. Xie is also a developer of many widely popular R packages such as <code>knitr,</code> <a href="https://GitHub.com/yihui/xaringan"><code>xaringan</code></a> (cool kids use xaringan not <a href="https://en.wikipedia.org/wiki/Beamer_(LaTeX)">Beamer</a> these days), <code>blogdown</code> (used to create <a href="https://jaeyk.GitHub.io/">my personal website</a>), and <code>bookdown</code> (used to create this book) among many others.</p>
<ul>
<li>Many applications: <a href="https://rstudio.GitHub.io/distill/basics.html">reports</a>, <a href="https://bookdown.org/yihui/rmarkdown/xaringan.html">presentations</a>, <a href="https://rmarkdown.rstudio.com/flexdashboard/">dashboards</a>, <a href="https://bookdown.org/yihui/rmarkdown/websites.html">websites</a><br>
</li>
<li>Check out <a href="https://ysc-rmarkdown.netlify.app/">Communicating with R markdown workshop</a> by <a href="https://alison.rbind.io/">Alison Hill</a> (RStudio)
<ul>
<li>Alison Hill is a co-author of <a href="https://bookdown.org/yihui/blogdown/"><code>blogdown: Creating Websites with R Markdown.</code></a></li>
</ul></li>
<li>Key strengths: dynamic reporting + reproducible science + easy deployment</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://GitHub.com/rstudio/concept-maps/raw/master/en/rmarkdown.svg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Concept map for R Markdown. By Gabriela Sandoval, Florencia D’Andrea, Yanina Bellini Saibene, Monica Alonso.</figcaption><p></p>
</figure>
</div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/s9aWmU0atlQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>R Markdown The bigger picture - Garrett Grolemund</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Xn5AmUf7gDQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>R-Ladies Oslo (English) - Reports to impress your boss! Rmarkdown magic - Athanasia Mowinckel</p>
<ul>
<li>R Markdown basic syntax</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Header 1</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Header 2</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="do">### Header 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Use these section headers to indicate workflow.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import packages and data</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Tidy data</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrangle data</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Model data</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Press <code>ctrl + shift + o</code>. You can see a document outline based on these headers. This is a nice feature for finding the code you need to focus on.</p>
<p>If your project’s scale is large, divide these sections into files and numbers and save them in the <code>code</code> subdirectory.</p>
<ul>
<li>01_wrangling.Rmd</li>
<li>02_modeling.Rmd …</li>
</ul>
<section id="making-a-project-computationally-reproducible" class="level4">
<h4 class="anchored" data-anchor-id="making-a-project-computationally-reproducible">Making a project computationally reproducible</h4>
<ul>
<li><p><code>setwd()</code>: set a working directory.</p></li>
<li><p>Note that using <code>setwd()</code> is not a reproducible way to set up your project. For instance, none will be able to run the following code except me.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set a working directory </span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/home/jae/starwars"</span>)</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Do something </span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> mpg, <span class="at">y =</span> wt)) <span class="sc">+</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>()</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Export the object. </span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a><span class="co"># dot means the working directory set by setwd()</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"./outputs/example.png"</span>) <span class="co"># This is called relative path </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Instead, learn how to use <code>here()</code>’.</p>
<ul>
<li><p>Key idea: separate workflow (e.g., workspace information) from products (code and data). For more information, please read Jenny Bryan’s excellent piece on <a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">project-oriented workflow</a>.</p></li>
<li><p>Example</p></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># New: Reproducible </span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> mpg, <span class="at">y =</span> wt)) <span class="sc">+</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_point</span>()</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="fu">here</span>(<span class="st">"project"</span>, <span class="st">"outputs"</span>, <span class="st">"example.png"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>How <code>here</code> works</li>
</ul>
<p><code>here()</code> function shows what’s the top-level project directory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>here<span class="sc">::</span><span class="fu">here</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Build a path including subdirectories</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"project"</span>, <span class="st">"outputs"</span>)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>           <span class="co">#depth 1   #depth 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>How <code>here</code> defines the top-level project directory. For example, the following list came from <a href="https://GitHub.com/jennybc/here_here">the here package vignette</a>).</p>
<ul>
<li><p>Is a file named .here present?</p></li>
<li><p>Is this an RStudio Project? (<strong>Note that we already set up an RStudio Project!</strong> So, if you use RStudio’s project feature, then you are ready to use <code>here</code>.)</p></li>
<li><p>Is this an R package? Does it have a DESCRIPTION file?</p></li>
<li><p>Is this a remake project? Does it have a file named <code>remake.yml</code>?</p></li>
<li><p>Is this a projectile project? Does it have a file named <code>.projectile</code>?</p></li>
<li><p>Is this a checkout from a version control system? Does it have a directory named <code>.git</code> or <code>.svn</code>? Currently, only Git and Subversion are supported.</p></li>
<li><p>If there’s no match then use <code>set_here()</code> to create an empty <code>.here</code> file.</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="references-1" class="level3">
<h3 class="anchored" data-anchor-id="references-1">References</h3>
<ul>
<li><p>Code and data management</p>
<ul>
<li><a href="https://web.stanford.edu/~gentzkow/research/CodeAndData.pdf">“Code and Data for the Social Sciences: A Practitioner’s Guide”</a> by Matthew Gentkow and Jesse M. Shapiro</li>
</ul></li>
<li><p>Project-oriented research</p>
<ul>
<li><p>Computational reproducibility</p>
<ul>
<li><p><a href="https://GitHub.com/swcarpentry/good-enough-practices-in-scientific-computing/blob/gh-pages/good-enough-practices-for-scientific-computing.pdf">“Good Enough Practices in Scientific Computing”</a> by PLOS</p></li>
<li><p><a href="https://swcarpentry.GitHub.io/r-novice-gapminder/02-project-intro/">Project Management with RStudio</a> by Software Carpentry</p></li>
<li><p><a href="https://kbroman.org/steps2rr/">Initial steps toward reproducible research</a> by Karl Broman</p></li>
</ul></li>
<li><p>Version control</p>
<ul>
<li><p><a href="https://swcarpentry.GitHub.io/git-novice/">Version Control with Git</a> by Software Carpentry</p></li>
<li><p><a href="http://plain-text.co/">The Plain Person’s Guide to Plain Text Social Science</a> by Kieran Healy</p></li>
</ul></li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./course_overview.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Course Overview</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./intror.html" class="pagination-link">
        <span class="nav-page-text">Introduction to R</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>